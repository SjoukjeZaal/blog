<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Open Standards as the Foundation of Future Data &amp; AI Platforms | sjoukje.eth</title>
<meta name="keywords" content="">
<meta name="description" content="Data and AI platforms are at the heart of digital transformation. But too often, they are built on proprietary formats and closed models that create silos, raise costs, and limit flexibility. In a world where organizations need interoperability, sovereignty, and speed, this approach is no longer sustainable. Open standards offer a better path forward.
From Lock-In to Openness
Data and AI platforms used to be closed worlds. Proprietary formats, vendor-specific connectors, and black-box models accelerated adoption, but at a cost: lock-in, high switching barriers, and reduced sovereignty. Once data was stored in a proprietary format or models were trained in a closed environment, moving them became difficult and costly. Enterprises often found themselves redesigning workflows, rewriting code, or even discarding valuable assets when switching vendors.">
<meta name="author" content="sjoukje.eth">
<link rel="canonical" href="/posts/2025-12-11-open-standards-foundation-future-data-ai/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.36f09b336921909a5971cfa84422229fa3edb550fa46b7707cb5436b0983bdcf.css" integrity="sha256-NvCbM2khkJpZcc&#43;oRCIin6PttVD6RrdwfLVDawmDvc8=" rel="preload stylesheet" as="style">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="/posts/2025-12-11-open-standards-foundation-future-data-ai/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="/posts/2025-12-11-open-standards-foundation-future-data-ai/">
  <meta property="og:site_name" content="sjoukje.eth">
  <meta property="og:title" content="Open Standards as the Foundation of Future Data & AI Platforms">
  <meta property="og:description" content="Data and AI platforms are at the heart of digital transformation. But too often, they are built on proprietary formats and closed models that create silos, raise costs, and limit flexibility. In a world where organizations need interoperability, sovereignty, and speed, this approach is no longer sustainable. Open standards offer a better path forward.
From Lock-In to Openness
Data and AI platforms used to be closed worlds. Proprietary formats, vendor-specific connectors, and black-box models accelerated adoption, but at a cost: lock-in, high switching barriers, and reduced sovereignty. Once data was stored in a proprietary format or models were trained in a closed environment, moving them became difficult and costly. Enterprises often found themselves redesigning workflows, rewriting code, or even discarding valuable assets when switching vendors.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-12-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-12-11T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Open Standards as the Foundation of Future Data &amp; AI Platforms">
<meta name="twitter:description" content="Data and AI platforms are at the heart of digital transformation. But too often, they are built on proprietary formats and closed models that create silos, raise costs, and limit flexibility. In a world where organizations need interoperability, sovereignty, and speed, this approach is no longer sustainable. Open standards offer a better path forward.
From Lock-In to Openness
Data and AI platforms used to be closed worlds. Proprietary formats, vendor-specific connectors, and black-box models accelerated adoption, but at a cost: lock-in, high switching barriers, and reduced sovereignty. Once data was stored in a proprietary format or models were trained in a closed environment, moving them became difficult and costly. Enterprises often found themselves redesigning workflows, rewriting code, or even discarding valuable assets when switching vendors.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/posts/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Open Standards as the Foundation of Future Data \u0026 AI Platforms",
      "item": "/posts/2025-12-11-open-standards-foundation-future-data-ai/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Open Standards as the Foundation of Future Data \u0026 AI Platforms",
  "name": "Open Standards as the Foundation of Future Data \u0026 AI Platforms",
  "description": "Data and AI platforms are at the heart of digital transformation. But too often, they are built on proprietary formats and closed models that create silos, raise costs, and limit flexibility. In a world where organizations need interoperability, sovereignty, and speed, this approach is no longer sustainable. Open standards offer a better path forward.\nFrom Lock-In to Openness\nData and AI platforms used to be closed worlds. Proprietary formats, vendor-specific connectors, and black-box models accelerated adoption, but at a cost: lock-in, high switching barriers, and reduced sovereignty. Once data was stored in a proprietary format or models were trained in a closed environment, moving them became difficult and costly. Enterprises often found themselves redesigning workflows, rewriting code, or even discarding valuable assets when switching vendors.\n",
  "keywords": [
    
  ],
  "articleBody": "Data and AI platforms are at the heart of digital transformation. But too often, they are built on proprietary formats and closed models that create silos, raise costs, and limit flexibility. In a world where organizations need interoperability, sovereignty, and speed, this approach is no longer sustainable. Open standards offer a better path forward.\nFrom Lock-In to Openness\nData and AI platforms used to be closed worlds. Proprietary formats, vendor-specific connectors, and black-box models accelerated adoption, but at a cost: lock-in, high switching barriers, and reduced sovereignty. Once data was stored in a proprietary format or models were trained in a closed environment, moving them became difficult and costly. Enterprises often found themselves redesigning workflows, rewriting code, or even discarding valuable assets when switching vendors.\nThat era is ending. Thanks to open standards and an expanding ecosystem of open source AI models, platforms are shifting from controlled silos to flexible, collaborative ecosystems.\nFrom Delta Lake and Apache Iceberg for data storage, to open source AI models like GPT oss, Llama and Mistral, openness is redefining what’s possible. These technologies allow organizations to move data and compound AI model systems (agents) freely, scale AI workloads across clouds, and maintain transparency for regulators and partners.\nWhy Openness Matters\nFor enterprises and governments, the stakes are clear:\nCompliance with evolving AI and data regulation Sovereignty in controlling where data is stored and how it is used Interoperability across hybrid and multi-cloud environments Closed ecosystems make these challenges harder. They increase dependency on one vendor, complicate audits, and reduce flexibility in adopting new technologies. In contrast, open standards provide a shared foundation that works across providers and platforms. Structured and unstructured data stored in an open format like Parquet, Delta Lake or Iceberg can be analyzed by multiple engines without conversion. AI models built on open architectures can be audited, retrained, and reused without hidden restrictions.\nThis interoperability preserves freedom of choice and protects long-term investments, ensuring today’s platform decisions remain valid tomorrow.\nThe Databricks Contribution\nDatabricks has been at the forefront of making openness real in enterprise environments. The company’s origins are in open source, and its engineers have played a central role in creating and fostering community growth some of the most widely adopted standards in data and AI.\nApache Spark transformed large-scale data processing and became the de facto standard for distributed analytics.\nDelta Lake, developed by Databricks and now an open-source project managed by the Linux Foundation, introduced ACID transactions and reliability to data lakes.\nMLflow emerged as the most widely used open-source platform for managing the machine learning lifecycle, from experiment tracking to deployment.\nUnity Catalog serves as the unified governance layer on the Databricks Platform, and its core functionality has also recently been open-sourced.\nSpark Declarative Pipelines is Databricks’ latest donation to Spark, allowing for easy and fast pipeline development.\nDelta Sharing is an open protocol for secure data sharing, making it simple to share data with other organizations regardless of which computing platforms they use.\nMore recently, Databricks has embraced Apache Iceberg, enabling interoperability across engines and vendors, and expanded support for open source AI models, giving enterprises choice beyond proprietary stacks. Databricks is the only vendor that supports multiple formats in Delta Lake and Iceberg.\nThe Databricks Data Intelligence Platform combines these open components with enterprise-grade governance, security, and performance. This ensures organizations can adopt open standards with confidence, scaling them across industries and regions. In short, Databricks shows that openness does not come at the expense of reliability - it strengthens it.\nReal-World Impact\nOpenness is already reshaping industries:\nFinancial services: Banks are under strict scrutiny when it comes to data handling. By building AI models on open data formats, they can meet compliance requirements across jurisdictions while maintaining flexibility. A trading desk in London and a compliance team in Frankfurt can work on the same data without duplicating or reformatting it. This reduces operational risk while speeding up decision-making. Healthcare: Clinical data, imaging, and genomic research data are often stored in different systems, each with its own rules. Using open standards, healthcare organizations can combine these datasets securely, accelerating drug discovery and enabling more personalized care. Instead of spending months reconciling formats, researchers can collaborate on a trusted, common layer, an approach that became especially critical during the pandemic. Public sector: Governments are increasingly focused on digital sovereignty. By deploying open AI models on platforms built around open standards, they reduce reliance on single vendors and ensure long-term control of critical digital infrastructure. Whether it’s analyzing mobility patterns, monitoring energy grids, or building citizen services, open standards allow governments to meet regulatory requirements while still innovating at pace. In each case, Databricks provides the foundation for adopting these open standards at scale, adding the governance and reliability needed for mission-critical use.\nLooking Ahead\nThe next generation of Data \u0026 AI platforms will not be defined by single vendors, but by ecosystems built on open standards. The pace of innovation in AI models, storage formats, and regulatory frameworks is simply too fast for closed approaches to keep up.\nEnterprises that adopt open data formats and open AI models will have the agility to innovate, comply, and collaborate globally. They will be able to mix and match tools, clouds, and providers with minimal friction. This avoids the costly rewrites and migrations of the past.\nWith its deep roots in open source and its enterprise platform, Databricks stands at the center of this movement. It demonstrates that openness is not just a technical preference, but a strategic foundation for the future. By combining community-driven innovation with enterprise-grade capabilities, Databricks is enabling organizations to protect their investments, preserve their sovereignty, and accelerate their journey into the data and AI-driven economy.\n",
  "wordCount" : "952",
  "inLanguage": "en",
  "datePublished": "2025-12-11T00:00:00Z",
  "dateModified": "2025-12-11T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "sjoukje.eth"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/posts/2025-12-11-open-standards-foundation-future-data-ai/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "sjoukje.eth",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="sjoukje.eth (Alt + H)">sjoukje.eth</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="/books/" title="Books">
                    <span>Books</span>
                </a>
            </li>
            <li>
                <a href="/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Open Standards as the Foundation of Future Data &amp; AI Platforms
    </h1>
    <div class="post-meta"><span title='2025-12-11 00:00:00 +0000 UTC'>December 11, 2025</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>sjoukje.eth</span>

</div>
  </header> 
  <div class="post-content"><p>Data and AI platforms are at the heart of digital transformation. But too often, they are built on proprietary formats and closed models that create silos, raise costs, and limit flexibility. In a world where organizations need interoperability, sovereignty, and speed, this approach is no longer sustainable. Open standards offer a better path forward.</p>
<p><strong>From Lock-In to Openness</strong></p>
<p>Data and AI platforms used to be closed worlds. Proprietary formats, vendor-specific connectors, and black-box models accelerated adoption, but at a cost: lock-in, high switching barriers, and reduced sovereignty. Once data was stored in a proprietary format or models were trained in a closed environment, moving them became difficult and costly. Enterprises often found themselves redesigning workflows, rewriting code, or even discarding valuable assets when switching vendors.</p>
<p>That era is ending. Thanks to open standards and an expanding ecosystem of open source AI models, platforms are shifting from controlled silos to flexible, collaborative ecosystems.</p>
<p>From <a href="https://delta.io/"><strong>Delta Lake</strong></a> and <a href="https://iceberg.apache.org/"><strong>Apache Iceberg</strong></a> for data storage, to <strong>open source AI models</strong> like <a href="https://github.com/openai/gpt-oss">GPT  oss</a>, <a href="https://www.llama.com/">Llama</a> and <a href="https://mistral.ai/">Mistral</a>, openness is redefining what’s possible. These technologies allow organizations to move data and compound AI model systems (agents) freely, scale AI workloads across clouds, and maintain transparency for regulators and partners.</p>
<p><strong>Why Openness Matters</strong></p>
<p>For enterprises and governments, the stakes are clear:</p>
<ul>
<li><strong>Compliance</strong> with evolving AI and data regulation</li>
<li><strong>Sovereignty</strong> in controlling where data is stored and how it is used</li>
<li><strong>Interoperability</strong> across hybrid and multi-cloud environments</li>
</ul>
<p>Closed ecosystems make these challenges harder. They increase dependency on one vendor, complicate audits, and reduce flexibility in adopting new technologies. In contrast, open standards provide a shared foundation that works across providers and platforms. Structured and unstructured data stored in an open format like Parquet, Delta Lake or Iceberg can be analyzed by multiple engines without conversion. AI models built on open architectures can be audited, retrained, and reused without hidden restrictions.</p>
<p>This interoperability preserves freedom of choice and protects long-term investments, ensuring today’s platform decisions remain valid tomorrow.</p>
<p><strong>The Databricks Contribution</strong></p>
<p>Databricks has been at the forefront of making openness real in enterprise environments. The company’s origins are in open source, and its engineers have played a central role in creating and fostering community growth some of the most widely adopted standards in data and AI.</p>
<ul>
<li>
<p><a href="https://spark.apache.org/"><strong>Apache Spark</strong></a> transformed large-scale data processing and became the de facto standard for distributed analytics.</p>
</li>
<li>
<p><a href="https://delta.io/"><strong>Delta Lake</strong></a>, developed by Databricks and now an open-source project managed by the Linux Foundation, introduced ACID transactions and reliability to data lakes.</p>
</li>
<li>
<p><a href="https://mlflow.org/"><strong>MLflow</strong></a> emerged as the most widely used open-source platform for managing the machine learning lifecycle, from experiment tracking to deployment.</p>
</li>
<li>
<p><a href="https://www.databricks.com/product/data-governance"><strong>Unity Catalog</strong></a> serves as the unified governance layer on the Databricks Platform, and its core functionality has also recently been open-sourced.</p>
</li>
<li>
<p><a href="https://www.databricks.com/blog/bringing-declarative-pipelines-apache-spark-open-source-project"><strong>Spark Declarative Pipelines</strong></a> is Databricks’ latest donation to Spark, allowing for easy and fast pipeline development.</p>
</li>
<li>
<p><a href="https://delta.io/sharing/"><strong>Delta Sharing</strong></a> is an open protocol for secure data sharing, making it simple to share data with other organizations regardless of which computing platforms they use.</p>
</li>
</ul>
<p>More recently, Databricks has embraced <strong>Apache Iceberg</strong>, enabling interoperability across engines and vendors, and expanded support for <strong>open source AI models</strong>, giving enterprises choice beyond proprietary stacks. Databricks is the only vendor that supports multiple formats in Delta Lake and Iceberg.</p>
<p>The <a href="https://www.databricks.com/">Databricks Data Intelligence Platform</a> combines these open components with enterprise-grade governance, security, and performance. This ensures organizations can adopt open standards with confidence, scaling them across industries and regions. In short, Databricks shows that openness does not come at the expense of reliability - it strengthens it.</p>
<figure>
    <img loading="lazy" src="/images/OpenStandards.jpg" width="100%"/> 
</figure>

<p><strong>Real-World Impact</strong></p>
<p>Openness is already reshaping industries:</p>
<ul>
<li><strong>Financial services</strong>: Banks are under strict scrutiny when it comes to data handling. By building AI models on open data formats, they can meet compliance requirements across jurisdictions while maintaining flexibility. A trading desk in London and a compliance team in Frankfurt can work on the same data without duplicating or reformatting it. This reduces operational risk while speeding up decision-making.</li>
<li><strong>Healthcare</strong>: Clinical data, imaging, and genomic research data are often stored in different systems, each with its own rules. Using open standards, healthcare organizations can combine these datasets securely, accelerating drug discovery and enabling more personalized care. Instead of spending months reconciling formats, researchers can collaborate on a trusted, common layer, an approach that became especially critical during the pandemic.</li>
<li><strong>Public sector</strong>: Governments are increasingly focused on digital sovereignty. By deploying open AI models on platforms built around open standards, they reduce reliance on single vendors and ensure long-term control of critical digital infrastructure. Whether it’s analyzing mobility patterns, monitoring energy grids, or building citizen services, open standards allow governments to meet regulatory requirements while still innovating at pace.</li>
</ul>
<p>In each case, Databricks provides the foundation for adopting these open standards at scale, adding the governance and reliability needed for mission-critical use.</p>
<p><strong>Looking Ahead</strong></p>
<p>The next generation of Data &amp; AI platforms will not be defined by single vendors, but by ecosystems built on open standards. The pace of innovation in AI models, storage formats, and regulatory frameworks is simply too fast for closed approaches to keep up.</p>
<p>Enterprises that adopt open data formats and open AI models will have the agility to innovate, comply, and collaborate globally. They will be able to mix and match tools, clouds, and providers with minimal friction. This avoids the costly rewrites and migrations of the past.</p>
<p>With its deep roots in open source and its enterprise platform, Databricks stands at the center of this movement. It demonstrates that openness is not just a technical preference, but a strategic foundation for the future. By combining community-driven innovation with enterprise-grade capabilities, Databricks is enabling organizations to protect their investments, preserve their sovereignty, and accelerate their journey into the data and AI-driven economy.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="/posts/2026-01-13-a-personal-digital-archive-by-design/">
    <span class="title">« Prev</span>
    <br>
    <span>My Personal Digital Archive — by Design</span>
  </a>
  <a class="next" href="/posts/2025-11-09-reclaiming-technology-leadership/">
    <span class="title">Next »</span>
    <br>
    <span>Reclaiming Technology Leadership</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="/">sjoukje.eth</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
